version: '3.8'

services:
  java-app:
    # Construiește imaginea folosind Dockerfile-ul din directorul curent (.)
    build: .
    container_name: p2p-java-app
    ports:
      # Mapează portul 8080 al mașinii tale la portul 8080 al containerului
      - "8080:8080"
    environment:
      # Exemplu de variabilă de mediu (util pentru Spring Profiles)
      - SPRING_PROFILES_ACTIVE=dev
    restart: unless-stopped
    # Limitează resursele alocate containerului
    deploy:
      resources:
        limits:
          memory: 512M